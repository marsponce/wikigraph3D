@import "tailwindcss";

@layer components {
  /* ArticleCard */
  .articlecard {
    @apply text-justify pt-2;
    @apply flow-root;
    @apply border-transparent;
    content-visibility: auto;
  }

  .articlecard section {
    @apply my-2;
  }

  .articlecard a {
    @apply text-sky-400;
  }

  .articlecard p {
    @apply p-0;
    @apply py-1.5;
  }

  .articlecard h2 {
    @apply border-b;
    @apply border-b-white;
    @apply mb-1;
    @apply flow-root;
    @apply text-xl md:text-2xl lg:text-3xl;
  }

  .articlecard img {
    @apply p-2;
    @apply mx-auto;
  }

  /* Hide the MathML, show only the SVG image */
  .articlecard span:has(> math) > math {
    @apply hidden;
  }

  /* Style the math image */
  .articlecard span:has(> math) > img,
  img[src*="wikimedia.org/api/rest_v1/media/math/render/svg/"] {
    @apply invert inline-block align-middle;
    @appy mx-0;
  }

  .articlecard table {
    @apply rounded;
    @apply bg-white/30;
    @apply mx-auto;
    @apply sm:float-right sm:clear-right;
    @apply m-3 sm:m-0 sm:ml-3 sm:mb-3 sm:mt-2;
  }

  .articlecard table * {
    @apply list-none;
  }

  .articlecard table td div ul {
    @apply flex;
    @apply text-center;
  }

  .articlecard table td div ul li {
    @apply flex-auto;
    @apply text-center uppercase;
    @apply list-disc list-inside;
  }

  .articlecard figure {
    @apply rounded;
    @apply bg-white/30;
    @apply mx-auto;
    @apply sm:float-right sm:clear-right;
    @apply m-3 sm:m-0 sm:ml-3 sm:mb-3 sm:mt-2;
  }

  .articlecard figure.mw-halign-left {
    @apply sm:float-left sm:clear-left;
    @apply m-3 sm:m-0 sm:mr-3 sm:mb-3 sm:mt-2;
  }

  .articlecard figcaption {
    @apply italic m-2;
    @apply text-start;
    @apply table-caption;
    @apply w-fit;
  }

  .articlecard table {
    @apply rounded;
    @apply m-2;
  }

  .articlecard table tr {
    @apply p-2;
    @apply border-white;
  }

  .articlecard .infobox {
    @apply sm:float-right sm:clear-right;
    @apply w-min;
    @apply bg-white/30;
    @apply text-xs;
  }

  .articlecard .infobox ul {
    @apply list-none;
  }

  .articlecard li {
    @apply break-inside-avoid ml-0 mb-2 [overflow-wrap:anywhere];
    @apply text-start;
  }

  .articlecard ul {
    @apply list-disc list-outside;
  }

  .articlecard ol {
    @apply list-decimal list-outside;
  }

  .articlecard .refbegin ul {
    @apply list-none;
    @apply ml-0;
    @apply text-start;
    @apply columns-[24rem];
    @apply -indent-[3rem];
  }

  .articlecard .refbegin ul li {
    @apply ml-[3rem];
  }

  .articlecard ol li {
    @apply ml-[3rem];
  }

  .articlecard .references {
    @apply text-start;
    @apply columns-[18rem] gap-4;
  }

  .articlecard ul.portalbox {
    @apply sm:float-right sm:clear-right sm:ml-3 sm:mb-2 sm:max-w-[16rem];
    @apply bg-white/50 rounded;
    @apply p-2;
    @apply m-2;
  }

  /* each item: icon + label inline */
  .articlecard .portalbox li {
    @apply flex items-center gap-2 py-1 leading-tight;
  }

  /* the tiny icon (there are nested spans, so just target the img) */
  .articlecard .portalbox li img {
    @apply p-0;
  }
}
